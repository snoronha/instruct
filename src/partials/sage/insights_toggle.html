<section layout="row" flex id="popupContainer">
  
  <md-content flex-offset="10" flex="80" layout-padding>
    <div>
      <md-header class="md-no-sticky">Insight Toggle</md-header>
      <div layout="row" flex="100">&nbsp;</div>
      <md-divider></md-divider>
      <div layout="row" flex="100">&nbsp;</div>      
      <div layout="row">
        <div flex="70" layout-align="start center" class="md-primary"><b>Insight Trigger</b></div>
        <div flex layout-align="center center"><b>Priority</b></div>
        <div flex layout="row" layout-align="end center"><b>Active</b></div>
      </div>
      <div layout="row" flex="100">&nbsp;</div>
      <md-divider></md-divider>
      <div ng-repeat="setting in settings | orderBy:'priority'" layout="row">
        <div flex="80" layout="row" layout-align="start center">
          {{ setting.name }}
        </div>
        <div flex="15" layout="row" layout-align="start start">
          <md-select ng-model="setting.priority" ng-change="priorityChanged(setting, '{{setting.priority}}')"
                     ng-disabled="!setting.enabled" aria-label="Select Priority">
            <md-option ng-repeat="priority in [0,1,2,3,4]" ng-value="priority">
              {{priority}}
            </md-option>
          </md-select>
        </div>
        <div layout="row" layout-align="end center" flex="20">
          <md-checkbox class="md-secondary" aria-label="Enabled" ng-model="setting.enabled"></md-checkbox>
        </div>
      </div>
      <md-divider></md-divider>
    </div>
    <div layout="row">
      <div flex="50">&nbsp;</div>
      <div flex="50" layout="row" layout-align="end end">
        <md-button class="md-raised md-primary" ng-click="updateSettings()" aria-label="Button">
          Save
        </md-button>
        <md-button class="md-raised" ng-click="cancelSettings()" aria-label="Button">
          Cancel
        </md-button>
      </div>
    </div>


  </md-content>

</section>
